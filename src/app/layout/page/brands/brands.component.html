<h1 class="text-5xl font-bold main-text-color text-center mt-4">{{"general.all brands" | translate }}</h1>
<div #demo class="flex justify-center flex-wrap mb-10">
    @for (brand of AllBrands; track brand._id) {

    <button class="rid grid-cols-4 gap-4 brand m-2" (click)="getBrandById(brand._id) ">
        <div class="col-span-1 pb-2 border-spacing-2 border-cyan-300">
            <img src="{{brand.image}}" alt="{{brand.name}}" class="w-full h-48 object-cover">
            <h2 class="text-2xl font-bold text-center ">{{brand.name}}</h2>
        </div>
    </button>
    }
</div>



<h1 #product class=" text-5xl font-bold main-text-color text-center mb-2 mt-5">{{"general.products of Brands"| translate}}</h1>


<!--Products by Brnad-->
@if (AllProduct.length !== 0) {
<section class=" md:grid xl:grid-cols-6 lg:grid-cols-5 md:grid-cols-4 md:gap-4 ">
    @for (item of AllProduct; track item._id) {
    <div>
        <div class=" card-Product product md:col-span-1 col-span-12 my-3 relative">
            <div [routerLink]="['/Details', item._id]" class=" p-2 md:block flex  justify-between">
                <img src="{{item.imageCover}}" class="md:w-full w-1/3">

                <div class="md:ml-0 md:w-full md:content-stretch ml-2 w-2/3 ">
                    <p class="text-sm main-text-color">{{item.category.name | lowercase }}</p>
                    <p class="text-md">{{item.title | termtext : 2 | titlecase}} ...</p>
                </div>
                <div class=" 2xl:flex md:mt-3 md:justify-between md:content-center content-center ">
                    <span>
                        {{item.price | currency: 'EGP'}}
                    </span>
                    <div class="2xl:mt-0 2xl:block md:mt-4 md:flex md:justify-end md:min-w-0 min-w-32 mt-11">
                        @for (item of [1,2,3,4,5].slice(0, item.ratingsAverage); track $index) {
                        <fa-icon style="color: #FFD700;" [icon]="faStar"></fa-icon>
                        }
                        @if (item.ratingsAverage % 1 != 0) {
                        <fa-icon style="color: #FFD700;" [icon]="faStarHalf"></fa-icon>
                        }
                        {{item.ratingsAverage}}
                    </div>

                </div>
            </div>
            <div  class="md:static md:flex md:justify-center absolute bottom-2 right-40 ">
                <button [disabled]="AddLoading == true " type="button" (click)="addToCart(item._id)"
                    class=" btn-main slide-in-right">
                    @if (AddLoading == true && itemId == item._id) {
                    <fa-icon [icon]="faSpinner" [spin]="true"></fa-icon>
                    Add To Card
                    }@else {
                    Add To Card
                    }
                </button>
            </div>
        </div>
    </div>
    }
</section>
}@else {
<h1 class="text-3xl font-bold main-text-color text-center mt-5">{{"general.no products found" | translate}}</h1>
}
